# https://spark.rstudio.com
# Installation
if(!require(sparklyr)) install.packages('sparklyr')
library(sparklyr)
spark_install(version = "2.1.0")
## Connect to a local instance of Spark
sc <- spark_connect(master = "local")
# Connection Utilities
## You can view the Spark web console using the spark_web function:
spark_web(sc)
# Disconnect from Spark
spark_disconnect(sc)
conf$`sparklyr.cores.local` <- 4
conf <- spark_config()
conf$`sparklyr.cores.local` <- 4
conf$`sparklyr.shell.driver-memory` <- "16G"
conf$spark.memory.fraction <- 0.9
## Connect to a local instance of Spark
## sc <- spark_connect(master = "local")
sc <- spark_connect(master = "yarn-client",
config = conf)  # Pass the conf variable
## Connect to a local instance of Spark
## sc <- spark_connect(master = "local")
sc <- spark_connect(master = "local",
config = conf)  # Pass the conf variable
# Connection Utilities
## You can view the Spark web console using the spark_web function:
spark_web(sc)
# Disconnect from Spark
spark_disconnect(sc)
conf <- spark_config()
conf$spark.executor.memory <- "300M"
conf$spark.executor.cores <- 2
conf$spark.executor.instances <- 3
conf$spark.dynamicAllocation.enabled <- "false"
conf$spark.memory.fraction <- 0.9
## Connect to a local instance of Spark
## sc <- spark_connect(master = "local")
sc <- spark_connect(master = "local",
config = conf)  # Pass the conf variable
conf <- spark_config()
conf$`sparklyr.cores.local` <- 4
conf$`sparklyr.shell.driver-memory` <- "16G"
conf$spark.memory.fraction <- 0.9
sc <- spark_connect(master = "local",
version = "2.1.0",
config = conf)
ls()
rm(list = ls())
gc()
